import{j as e,C as t,F as n,n as i}from"./.pnpm-CFMgtAnT.js";function l(){return e.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function a(){return e.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const r={colorSketch:"_colorSketch_113k5_1",dropDown:"_dropDown_113k5_10",items:"_items_113k5_14",item:"_item_113k5_14",input:"_input_113k5_51",prefix:"_prefix_113k5_58",suffix:"_suffix_113k5_63",panel:"_panel_113k5_81",header:"_header_113k5_86",icon:"_icon_113k5_93",title:"_title_113k5_99",active:"_active_113k5_117",wrap:"_wrap_113k5_120",panelContent:"_panelContent_113k5_124",panelItem:"_panelItem_113k5_130",select:"_select_113k5_149",value:"_value_113k5_164",color:"_color_113k5_1",block:"_block_113k5_194"};function o({defaultValue:t,onChange:n,value:i,prefix:l,prefixTip:a,suffix:o,style:s={},disabled:c=!1,onFocus:d=()=>{},onKeyDown:_=()=>{},onBlur:u=()=>{},tip:p,numberTip:g,type:m}){const[h,v]=React.useState(t),x=React.useCallback((e=>{const t=e.target.value;v(t),null==n||n(t)}),[]);return React.useEffect((()=>{i!==h&&v(i)}),[i]),e.jsx(f.Item,{style:s,children:e.jsxs("div",{className:r.input,"data-mybricks-tip":p,children:[l&&e.jsx("div",{className:r.prefix,"data-mybricks-tip":a,children:l}),e.jsx("input",{defaultValue:h,onChange:x,disabled:c,onFocus:d,onBlur:u,onKeyDown:_,"data-mybricks-tip":g,type:m}),o&&e.jsx("div",{className:r.suffix,children:o})]})})}function s(e="u_"){return e+Date.now().toString(36)+Math.floor(1e4*Math.random()).toString(36)}const c=e=>{if(e.startsWith("rgba"))return e;if(e.startsWith("rgb"))return e.replace("rgb","rgba").replace(")",",1)");if(e.startsWith("#")){const t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);let l=1;return 9===e.length&&(l=Number((parseInt(e.slice(7,9),16)/255).toFixed(2))),`rgba(${t},${n},${i},${l})`}return e};function d({value:n,onChange:i,disabled:l,style:a}){const s=React.useRef(null),d=React.useRef(null),[u,p]=React.useState(!1),[g,f]=React.useState(!1),m=React.useCallback((()=>{l||(p(!0),f(!0))}),[l]),h=React.useCallback(((e,t)=>{var n;"#ffffff00"!==e.hexa&&9===(null==(n=e.hexa)?void 0:n.length)&&(null==e?void 0:e.hex)!==(null==t?void 0:t.hex)&&"0"===e.hexa[e.hexa.length-1]&&(e.hexa=e.hexa.replace(/00$/,"FF")),i(c(e.hexa))}),[]),v=React.useCallback((e=>{d.current.contains(e.target)||f(!1)}),[]);return React.useEffect((()=>{g?setTimeout((()=>{document.addEventListener("click",v)})):document.removeEventListener("click",v)}),[g]),React.useEffect((()=>()=>{document.removeEventListener("click",v)}),[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:s,className:r.color,style:a,children:[e.jsx("div",{onClick:m,className:r.block,style:{background:0!==new t(n).alpha()?n:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADFJREFUOE9jZGBgEGHAD97gk2YcNYBhmIQBgWSAP52AwoAQwJvQRg1gACckQoC2gQgAIF8IscwEtKYAAAAASUVORK5CYII=") left center, white'}}),e.jsx(o,{defaultValue:String(t(n).hex()).toUpperCase(),onChange:e=>{i(c(e))},style:{padding:0}})]}),u&&ReactDOM.createPortal(e.jsx(_,{value:n,onChange:h,open:g,positionElement:s.current,childRef:d}),document.body)]})}function _({open:t,positionElement:i,onChange:l,value:a,childRef:o}){const s=o;React.useEffect((()=>{const e=s.current;if(t){const t=i.getBoundingClientRect(),n=s.current.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight,a=t.top+t.height,r=t.left+t.width-n.width,o=a+n.height;e.style.top=o>l?t.top-n.height+"px":a+"px",e.style.left=r+"px",e.style.visibility="visible"}else e.style.visibility="hidden"}),[t]);const c=React.useCallback((()=>{try{return u(a)}catch{return"rgba(0, 0, 0, 1)"}}),[a]);return e.jsx("div",{ref:s,className:r.colorSketch,children:e.jsx(n,{color:c(),onChange:l})})}const u=e=>{const{color:n,valpha:i}=t.rgb(e);return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${i.toFixed(2)})`};function p({value:t,options:n,children:i,onClick:l,className:a,multiple:o}){const s=React.useRef(null),c=React.useRef(null),[d,_]=React.useState(!1),[u,p]=React.useState(!1),f=React.useCallback((()=>{_(!0),p(!0)}),[]),m=React.useCallback((e=>{l(e)}),[]),h=React.useCallback((e=>{if(o){let t=e.target;for(;t;){if(t===c.current)return;t=t.parentElement}p(!1)}else p(!1)}),[]);return React.useEffect((()=>(u?setTimeout((()=>{document.addEventListener("click",h)})):document.removeEventListener("click",h),()=>{document.removeEventListener("click",h)})),[u]),e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:s,className:`${r.dropDown}${a?` ${a}`:""}`,onClick:f,children:i}),d&&ReactDOM.createPortal(e.jsx(g,{ref:c,value:t,options:n,positionElement:s.current,open:u,onClick:m}),document.body)]})}const g=React.forwardRef(((t,n)=>{const{open:i,options:a,positionElement:o,onClick:s,value:c}=t,d=React.useRef(null);return React.useImperativeHandle(n,(()=>d.current)),React.useEffect((()=>{const e=d.current;if(i&&e){const t=o.getBoundingClientRect(),n=d.current.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,l=t.top+t.height,a=t.left+t.width-t.width,r=l+n.height;e.style.top=r>i?t.top-n.height+"px":l+"px",n.width>t.width?e.style.left=a-n.width+t.width+"px":(e.style.width=t.width+"px",e.style.left=a+"px"),e.style.visibility="visible"}else e.style.visibility="hidden"}),[i,d.current]),e.jsx("div",{ref:d,className:r.items,children:a.map((({label:t,value:n},i)=>e.jsxs("div",{className:r.item,onClick:()=>s(n),children:[n===c||Array.isArray(c)&&c.includes(n)?e.jsx(l,{}):e.jsx(e.Fragment,{}),t]},i)))})}));function f({title:t,children:n,showTitle:i=!0}){return e.jsxs("div",{className:r.panel,children:[e.jsx("div",{className:r.header,children:i&&e.jsx("div",{className:r.title,children:t})}),e.jsx("div",{className:r.wrap,children:n})]})}function m(e,t=[]){if(!Array.isArray(t)||!t.length)return;const n=React.useRef(!1);React.useEffect((()=>{n.current?e():n.current=!0}),t)}function h(e,t){const[n,i]=React.useState(function(e){const t=parseFloat(e);return!isNaN(t)&&t>0?String(t):"0"}(e)),l=function(e){const t=React.useRef(e);return t.current=e,t}(t);return[n,React.useCallback((e=>{var t;let n;if(e){const t=parseFloat(e);!isNaN(t)&&t>=0&&(n=/^(0|[1-9]\d*)?(\.\d*)?$/.test(e)?e:String(t))}else n="0";n&&(i(n),null==(t=l.current)||t.call(l,n))}),[])]}function v({value:t,prefix:n,defaultValue:i,style:l={},onChange:o,options:s,showIcon:c=!0,labelClassName:d,multiple:_=!1,tip:u}){var g;const[h,v]=React.useState(t||i),[x,y]=React.useState(Array.isArray(h)?h.map((e=>{var t;return null==(t=s.find((({value:t})=>t===e)))?void 0:t.label})).join(","):(null==(g=s.find((({value:e})=>e===h)))?void 0:g.label)||h),w=React.useCallback((e=>{v((t=>{if(_){const n=Array.isArray(t)?t.slice():[t],i=n.indexOf(e);return i>-1?n.splice(i,1):n.push(e),y(n.map((e=>s.find((({value:t})=>t===e)).label)).join(",")),o(n),n}return t!==e&&(y(s.find((({value:t})=>t===e)).label),o(e)),e}))}),[]);return m((()=>{v(t)}),[t]),React.useEffect((()=>{var e;y(Array.isArray(t)?t.map((e=>{var t;return null==(t=s.find((({value:t})=>t===e)))?void 0:t.label})).join(","):(null==(e=s.find((({value:e})=>e===h)))?void 0:e.label)||h)}),[h]),e.jsx(f.Item,{style:l,children:e.jsx(p,{multiple:_,options:s,value:h,onClick:w,children:e.jsxs("div",{"data-mybricks-tip":u,className:r.select,style:c?{}:{padding:0},children:[n&&e.jsx("div",{className:r.prefix,children:n}),e.jsx("div",{className:`${r.value}${d?` ${d}`:""}`,children:x}),c&&e.jsx("span",{className:r.icon,children:e.jsx(a,{})})]})})})}function x({defaultValue:t,onChange:n,value:i,prefix:l,prefixTip:a,suffix:r,style:s={},disabled:c=!1,unitOptions:d,unitDisabledList:_=[],defaultUnitValue:u,onFocus:p,tip:g,allowNegative:f=!1,showIcon:x=!1,type:w}){const[C,b]=React.useState(y(i||t,u,d)),[R,k]=h(i||t),[j,A]=React.useState(void 0!==C&&void 0!==(i||t)&&C===(i||t)?C:R),S=React.useCallback((()=>_&&C?_.includes(C):c),[C,c]),I=React.useCallback((e=>{const t=e.code,n=function(e,t){if(e.includes(".")){var n=e.split(".")[1].length,i=Math.pow(10,-n);if("ArrowUp"===t)var l=(parseFloat(e)+i).toFixed(n);else if("ArrowDown"===t)l=(parseFloat(e)-i).toFixed(n);else l=e}else if("ArrowUp"===t)l=(parseFloat(e)+1).toString();else if("ArrowDown"===t)l=(parseFloat(e)-1).toString();else l=e;return Number(l)>0?l:"0"}(e.target.value,t);["ArrowUp","ArrowDown"].includes(t)?(e.target.value=n,e.target.select(),e.preventDefault()):"Enter"===t&&(e.target.value=n,k(n))}),[R]),N=React.useCallback((e=>{let t=e.target.value;t=Number(t)>0?t:"0",k(t),e.target.value=t}),[R]),$=React.useMemo((()=>r||(Array.isArray(d)?e.jsx(v,{style:{padding:0,fontSize:10},defaultValue:C,options:d,showIcon:x,onChange:b}):null)),[]);return m((()=>{if(i){const e=y(i,u,d);b(e),k(String(i)),A(void 0!==e&&void 0!==i&&e===i?e:R)}}),[i]),m((()=>{let e=String(parseFloat(R));_.includes(C)?(A(C),e=C):(A(R),e+=C),n&&n(e)}),[C,R]),e.jsx(o,{style:s,prefix:l,prefixTip:a,value:j,suffix:$,disabled:S(),onFocus:p,onKeyDown:I,onBlur:N,tip:g,numberTip:"光标键可增减",type:w})}function y(e,t=void 0,n=[]){const[,i]=function(e){if("number"==typeof e)return isNaN(e)?[String(e),null]:[null,null];let t=parseFloat(e);return isNaN(t)?[null,null]:(t=String(t),[t,e.replace(t,"")])}(e),l=n.find((e=>e.value===i));return l?l.value:i||(void 0!==t?t:e)}f.Content=function({style:t={},children:n,className:i}){return e.jsx("div",{className:`${r.panelContent}${i?` ${i}`:""}`,style:t,children:n})},f.Item=function({children:t,style:n={},onClick:i=()=>{},className:l,activeWhenBlur:a=!0}){const[o,s]=React.useState(!1),c=React.useCallback((e=>{s(!0),e.stopPropagation()}),[]);return e.jsx("div",{className:`${r.panelItem}${l?` ${l}`:""} ${a&&o?r.active:""}`,style:n,onClick:i,onFocus:c,onBlur:()=>s(!1),children:t})};const w={preview:"_preview_m74yf_1",previewTopBox:"_previewTopBox_m74yf_12",stop:"_stop_m74yf_20",stopHandle:"_stopHandle_m74yf_26",active:"_active_m74yf_43",stopActive:"_stopActive_m74yf_58",top:"_top_m74yf_65",radioGroup:"_radioGroup_m74yf_72",stops:"_stops_m74yf_82",disabled:"_disabled_m74yf_88","gradient-preview":"_gradient-preview_m74yf_98",gradientPreview:"_gradient-preview_m74yf_98","gradient-panel__angle":"_gradient-panel__angle_m74yf_103",gradientPanelAngle:"_gradient-panel__angle_m74yf_103","overlay-when-drag":"_overlay-when-drag_m74yf_108",overlayWhenDrag:"_overlay-when-drag_m74yf_108","gradient-panel__angle__label":"_gradient-panel__angle__label_m74yf_117",gradientPanelAngleLabel:"_gradient-panel__angle__label_m74yf_117","gradient-panel__angle__picker":"_gradient-panel__angle__picker_m74yf_120",gradientPanelAnglePicker:"_gradient-panel__angle__picker_m74yf_120","gradient-panel__angle__input":"_gradient-panel__angle__input_m74yf_123",gradientPanelAngleInput:"_gradient-panel__angle__input_m74yf_123","gradient-panel__meta":"_gradient-panel__meta_m74yf_128",gradientPanelMeta:"_gradient-panel__meta_m74yf_128","gradient-panel__presets":"_gradient-panel__presets_m74yf_134",gradientPanelPresets:"_gradient-panel__presets_m74yf_134","gradient-panel__presets__label":"_gradient-panel__presets__label_m74yf_139",gradientPanelPresetsLabel:"_gradient-panel__presets__label_m74yf_139","gradient-panel__presets__item":"_gradient-panel__presets__item_m74yf_142",gradientPanelPresetsItem:"_gradient-panel__presets__item_m74yf_142","gradient-panel__slider":"_gradient-panel__slider_m74yf_152",gradientPanelSlider:"_gradient-panel__slider_m74yf_152","gradient-panel__slider-marker":"_gradient-panel__slider-marker_m74yf_162",gradientPanelSliderMarker:"_gradient-panel__slider-marker_m74yf_162","gradient-panel__slider-marker_active":"_gradient-panel__slider-marker_active_m74yf_173",gradientPanelSliderMarkerActive:"_gradient-panel__slider-marker_active_m74yf_173","gradient-panel__slider-marker__color":"_gradient-panel__slider-marker__color_m74yf_176",gradientPanelSliderMarkerColor:"_gradient-panel__slider-marker__color_m74yf_176","gradient-panel__color-item":"_gradient-panel__color-item_m74yf_186",gradientPanelColorItem:"_gradient-panel__color-item_m74yf_186","gradient-panel__color-item__info":"_gradient-panel__color-item__info_m74yf_194",gradientPanelColorItemInfo:"_gradient-panel__color-item__info_m74yf_194","gradient-panel__color-item__action":"_gradient-panel__color-item__action_m74yf_198",gradientPanelColorItemAction:"_gradient-panel__color-item__action_m74yf_198","gradient-panel__color-item__position":"_gradient-panel__color-item__position_m74yf_201",gradientPanelColorItemPosition:"_gradient-panel__color-item__position_m74yf_201","gradient-panel__color-item__position__unit":"_gradient-panel__color-item__position__unit_m74yf_205",gradientPanelColorItemPositionUnit:"_gradient-panel__color-item__position__unit_m74yf_205","gradient-panel__color-item__picker":"_gradient-panel__color-item__picker_m74yf_210",gradientPanelColorItemPicker:"_gradient-panel__color-item__picker_m74yf_210","gradient-panel__color-item__color-text":"_gradient-panel__color-item__color-text_m74yf_218",gradientPanelColorItemColorText:"_gradient-panel__color-item__color-text_m74yf_218","gradient-panel__color-item__btn":"_gradient-panel__color-item__btn_m74yf_224",gradientPanelColorItemBtn:"_gradient-panel__color-item__btn_m74yf_224","gradient-panel__color-item__btn-disabled":"_gradient-panel__color-item__btn-disabled_m74yf_229",gradientPanelColorItemBtnDisabled:"_gradient-panel__color-item__btn-disabled_m74yf_229","gradient-panel__divider":"_gradient-panel__divider_m74yf_233",gradientPanelDivider:"_gradient-panel__divider_m74yf_233"},C=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 32 32",children:e.jsx("path",{fill:"#000",fillOpacity:".9",fillRule:"evenodd",stroke:"none",d:"M15.5 15.5v-5h1v5h5v1h-5v5h-1v-5h-5v-1z"})}),b=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"30",viewBox:"0 0 32 32",children:e.jsx("path",{fill:"#000",fillOpacity:".9",stroke:"none",d:"M21.5 16.5h-11v-1h11z"})}),R=()=>e.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4236",width:"15",height:"15",children:e.jsx("path",{d:"M512 838.624C263.52 838.624 61.344 692.096 61.344 512S263.52 185.376 512 185.376 962.656 331.904 962.656 512c0 180.064-202.176 326.624-450.656 326.624z m0-610.56C287.04 228.064 104 355.456 104 512S287.04 795.936 512 795.936c224.992 0 408-127.392 408-283.936S736.992 228.064 512 228.064z",fill:"currentColor","p-id":"4237"})}),k=()=>e.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4384",width:"15",height:"15",children:e.jsx("path",{d:"M512 998.4C243.776 998.4 25.6 780.224 25.6 512S243.776 25.6 512 25.6s486.4 218.176 486.4 486.4-218.176 486.4-486.4 486.4zM512 76.8C272 76.8 76.8 272 76.8 512s195.2 435.2 435.2 435.2 435.2-195.2 435.2-435.2S752 76.8 512 76.8z","p-id":"4385",fill:"currentColor"})}),j=()=>e.jsxs("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8034",width:"15",height:"15",children:[e.jsx("path",{d:"M515.57 978.4c-61.75 0-121.66-12.1-178.09-35.97C283 919.39 234.07 886.4 192.07 844.4c-42.01-42.01-74.99-90.93-98.03-145.41-23.87-56.43-35.97-116.34-35.97-178.09s12.1-121.66 35.97-178.09c23.04-54.48 56.03-103.41 98.03-145.41 42-42.01 90.93-74.99 145.41-98.03C393.9 75.5 453.82 63.4 515.57 63.4s121.66 12.1 178.09 35.97c54.48 23.04 103.41 56.03 145.41 98.03s74.99 90.93 98.03 145.41c23.86 56.42 35.97 116.34 35.97 178.09s-12.1 121.66-35.97 178.09c-23.04 54.48-56.03 103.41-98.03 145.41-42.01 42-90.93 74.99-145.41 98.03-56.43 23.86-116.34 35.97-178.09 35.97z m0-848.29c-52.77 0-103.94 10.33-152.1 30.7-46.53 19.68-88.33 47.86-124.23 83.76s-64.08 77.7-83.76 124.23c-20.37 48.16-30.7 99.33-30.7 152.1s10.33 103.94 30.7 152.1c19.68 46.53 47.86 88.32 83.76 124.22s77.7 64.08 124.23 83.76c48.16 20.37 99.33 30.7 152.1 30.7 52.77 0 103.94-10.33 152.1-30.7C714.2 861.3 756 833.12 791.9 797.22s64.08-77.7 83.76-124.23c20.37-48.16 30.7-99.33 30.7-152.1s-10.33-103.94-30.7-152.1c-19.68-46.53-47.86-88.33-83.76-124.23s-77.7-64.08-124.23-83.76c-48.16-20.36-99.33-30.69-152.1-30.69z",fill:"currentColor","p-id":"8035"}),e.jsx("path",{d:"M735.8 422.48c-12.09-28.6-29.4-54.27-51.45-76.31-22.04-22.04-47.72-39.35-76.31-51.45-29.62-12.53-61.07-18.88-93.47-18.88s-63.85 6.35-93.47 18.88c-28.6 12.1-54.27 29.4-76.31 51.45-22.04 22.04-39.35 47.72-51.45 76.31-12.53 29.62-18.88 61.07-18.88 93.47s6.35 63.85 18.88 93.47c12.09 28.59 29.4 54.27 51.45 76.31 22.04 22.04 47.72 39.35 76.31 51.45 29.62 12.53 61.07 18.88 93.47 18.88s63.85-6.35 93.47-18.88c28.59-12.09 54.27-29.4 76.31-51.45 22.04-22.04 39.35-47.72 51.45-76.31 12.53-29.62 18.88-61.07 18.88-93.47s-6.35-63.85-18.88-93.47z m-40.24 93.47c0 24.45-4.78 48.15-14.21 70.44-9.12 21.55-22.17 40.91-38.8 57.54-16.63 16.63-35.99 29.69-57.54 38.8-22.3 9.43-46 14.21-70.44 14.21-24.45 0-48.15-4.78-70.44-14.21-21.55-9.11-40.91-22.17-57.54-38.8-16.63-16.63-29.69-35.99-38.8-57.54-9.43-22.3-14.21-46-14.21-70.44 0-24.45 4.78-48.15 14.21-70.44 9.11-21.55 22.17-40.91 38.8-57.54s35.99-29.69 57.54-38.8c22.3-9.43 46-14.21 70.44-14.21 24.45 0 48.15 4.78 70.44 14.21 21.55 9.11 40.91 22.17 57.54 38.8 16.63 16.63 29.69 35.99 38.8 57.54 9.43 22.29 14.21 45.99 14.21 70.44z",fill:"currentColor","p-id":"8036",opacity:".6"})]}),A=()=>e.jsxs("svg",{viewBox:"0 0 1901 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11873",width:"15",height:"15",children:[e.jsx("path",{d:"M144.896 977.042286L52.370286 894.683429l380.342857-381.513143L57.417143 134.436571 143.36 47.689143l462.848 465.408-461.238857 463.945143z",fill:"currentColor","p-id":"11874"}),e.jsx("path",{d:"M787.382857 987.428571L694.857143 905.069714l380.342857-381.513143L699.830857 144.822857 785.700571 58.075429l462.921143 465.408-461.238857 463.945142z",fill:"currentColor",opacity:".6","p-id":"11875"}),e.jsx("path",{d:"M1372.525714 987.428571L1280 905.069714l380.342857-381.513143-375.369143-378.733714L1370.843429 58.075429l462.921142 465.408-461.238857 463.945142z",fill:"currentColor",opacity:".3","p-id":"11876"})]}),S=()=>e.jsx("div",{style:{marginRight:10},children:e.jsx("svg",{viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13019",width:"15",height:"15",children:e.jsx("path",{d:"M993.6 856h-208l17.6-22.4 30.4-38.4 3.2-3.2 64-81.6-104 8h-6.4c-33.6-179.2-129.6-331.2-259.2-425.6l156.8-200c11.2-11.2 11.2-30.4 0-41.6-11.2-11.2-30.4-11.2-41.6 0l-164.8 211.2-36.8 46.4-435.2 556.8c-11.2 11.2-11.2 30.4 0 41.6 6.4 6.4 14.4 9.6 24 8h961.6c16 0 30.4-12.8 30.4-30.4-3.2-16-16-28.8-32-28.8z m-249.6 0h-654.4l404.8-516.8c116.8 83.2 204.8 220.8 236.8 384l-76.8 6.4-17.6 1.6 19.2 19.2 44.8 41.6 14.4 12.8 28.8 25.6 27.2 25.6h-27.2z",fill:"currentColor","p-id":"13020"})})});s(),s();const I=[{value:"linear",label:"线性"},{value:"radial",label:"径向"}],N=[{value:"ellipse",label:"椭圆"},{value:"circle",label:"圆形"}];function $(e,n,i){const{color:l,position:a}=e,{color:r,position:o}=n;if(!l||!r)return"rgba(255,255,255,1)";const s=t(l).color,d=t(r).color,_=(i-a)/(o-a),u=s[0]+(d[0]-s[0])*_,p=s[1]+(d[1]-s[1])*_,g=s[2]+(d[2]-s[2])*_,f=t({r:u,g:p,b:g}).hexa();return c(f)}const P=e=>Math.round(Math.min(Math.max(e,0),100));function E({gradientColor:t,stops:n,setStops:i,curElementId:l,setCurElementId:a}){const[r,o]=React.useState(!1),[c,d]=React.useState(0),[_,u]=React.useState(0),[p,g]=React.useState(-1),f=React.useRef(null),m=React.useCallback((e=>{e=P(e);const t=[...n],l=t.findIndex((t=>t.position>e)),a=l>0?t[l-1]:t[0],r=-1!==l?t[l]:t[t.length-1],o={id:s(),position:e,color:e<=a.position?a.color:e>=r.position?r.color:$(a,r,e)};t.splice(-1===l?t.length:l,0,o),i(t)}),[n]),h=React.useCallback(((e,t)=>{var i,l;const r=null==(i=f.current)?void 0:i.getBoundingClientRect();if(r){const i=(t.clientX-r.left)/r.width*100;a(e),o(!0),d(i);const s=[...n];u((null==(l=s.find((t=>t.id===e)))?void 0:l.position)||0)}}),[n]),v=React.useCallback((e=>{var t;if(!r)return;const a=null==(t=f.current)?void 0:t.getBoundingClientRect();if(a){const t=(e.clientX-a.left)/a.width*100;(e=>{const t=n,a=t.findIndex((e=>e.id===l));t[a].position=P(e),t.sort(((e,t)=>e.position-t.position)),i([...t])})(_+(t-c))}}),[r,_,c,f.current]),x=e=>{o(!1),g(+new Date),a(null),e.stopPropagation()};return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:w["overlay-when-drag"],onMouseMove:v,onMouseUp:x}),e.jsx("div",{className:w["gradient-panel__slider"],style:{background:t},onClick:e=>{if(p>-1&&+new Date-p<10)return;const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100;m(n)},ref:f,children:n.map((({position:t,color:n,id:i},a)=>e.jsx("div",{style:{left:`${t}%`,zIndex:i===l?20:1},onMouseDown:e=>h(i,e),onMouseUp:x,onClick:e=>e.stopPropagation(),className:`${w["gradient-panel__slider-marker"]} ${i===l?w["gradient-panel__slider-marker_active"]:""}`,children:e.jsx("div",{id:n,style:{backgroundColor:n},className:`${w["gradient-panel__slider-marker__color"]}`})},`${i}-${a}`)))})]})}const M=({gradientColor:t,stops:n,setStops:i,curElementId:l,setCurElementId:a})=>{const[r,o]=React.useState(!1),[c,d]=React.useState(0),[_,u]=React.useState(0),[p,g]=React.useState(-1),f=React.useRef(null),m=React.useCallback((e=>{e=P(e);const t=[...n],l=t.findIndex((t=>t.position>e)),a=l>0?t[l-1]:t[0],r=-1!==l?t[l]:t[t.length-1],o={id:s(),position:e,color:e<=a.position?a.color:e>=r.position?r.color:$(a,r,e)};t.splice(-1===l?t.length:l,0,o),i(t)}),[n]),h=React.useCallback(((e,t)=>{var i,l;const r=null==(i=f.current)?void 0:i.getBoundingClientRect();if(r){const i=(t.clientX-r.left)/r.width*100;a(e),o(!0),d(i);const s=[...n];u((null==(l=s.find((t=>t.id===e)))?void 0:l.position)||0)}}),[n,f.current]),v=React.useCallback((e=>{var t;if(!r)return;const a=null==(t=f.current)?void 0:t.getBoundingClientRect();if(a){const t=(e.clientX-a.left)/a.width*100;(e=>{const t=n,a=t.findIndex((e=>e.id===l));t[a].position=P(e),t.sort(((e,t)=>e.position-t.position)),i([...t])})(_+(t-c))}}),[r,_,c,f.current]),x=e=>{o(!1),g(+new Date),a(null),e.stopPropagation()};return e.jsxs("div",{style:{position:"relative",left:"-14px"},children:[r&&e.jsx("div",{className:w["overlay-when-drag"],onMouseMove:v,onMouseUp:x}),e.jsx("div",{className:w.previewTopBox,children:n.map(((t,n)=>{const{position:i,color:a,id:r}=t;return e.jsx("div",{className:`${w.stop} ${r===l?w.stopActive:""}`,style:{left:`${i}%`,zIndex:r===l?20:3},onMouseDown:e=>h(r,e),onMouseUp:x,onClick:e=>e.stopPropagation(),children:e.jsx("div",{className:`${w.stopHandle} ${r===l?w.active:""}`,children:e.jsx("div",{style:{backgroundColor:a}})},r)},`${r}-${n}`)}))}),e.jsx("div",{className:w.preview,style:{backgroundImage:t},onClick:e=>{if(p>-1&&+new Date-p<10)return;const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100;m(n)},ref:f})]})};function B({defaultValue:t,onChange:n}){const[l,a]=React.useState("linear"),[r,o]=React.useState("ellipse"),[c,_]=React.useState(90),[u,p]=React.useState([]);React.useEffect((()=>{if(t){const{type:e,direction:n,stops:l}=(e=>{var t,n,l;let a="linear",r="90",o=[];if(e&&"none"!==e){const c=null==(t=i.parse(e))?void 0:t[0];c&&(a=c.type.split("-")[0],r=Array.isArray(c.orientation)?null==(n=c.orientation[0])?void 0:n.value:null==(l=c.orientation)?void 0:l.value,o=c.colorStops.map((e=>{var t;return{color:`rgba(${e.value.join(",")})`,position:Number(null==(t=e.length)?void 0:t.value),id:s()}})))}return{type:a,direction:r,stops:o}})(t);a(e),"linear"===e&&n?_(parseInt(n)):n&&o(n),l.length>0&&p(m(l))}}),[t]);const g=e=>{p(m(e))},m=React.useCallback((e=>e.sort(((e,t)=>(e.position||0)-(t.position||0)))),[]),h=React.useCallback((()=>{const{color:e="rgba(255,255,255,1)",position:t=50}=u[u.length-1]||{};g([...u,{color:e,position:t+10<=100?t+10:100,id:s()}])}),[u]),y=React.useCallback((e=>{g(u.filter((({id:t})=>e!==t)))}),[u]),$=(e,t,n,i)=>{const l="linear"===t?`${e}deg`:n;return 0===i.length?"":`${t}-gradient(${l}${i.map((e=>`, ${e.color} ${e.position}%`)).join("")})`},P=$(c,l,r,u),B=$(90,"linear",r,u);React.useEffect((()=>{P&&(null==n||n(P))}),[P,n]);const F=React.useCallback(((e,t,n,i=!1)=>{p((l=>{const a=l.map(((i,l)=>i.id===n?{...i,[e]:t}:i));return i?m(a):a}))}),[n,P,u]),[L,D]=React.useState(null);return e.jsxs("div",{style:{width:"320px",marginTop:6},children:[e.jsx(E,{gradientColor:B,stops:u,setStops:g,curElementId:L,setCurElementId:D}),e.jsx("div",{style:{marginTop:60}}),e.jsx(M,{gradientColor:B,stops:u,setStops:g,curElementId:L,setCurElementId:D}),e.jsxs("div",{className:w.top,children:[e.jsx(v,{tip:"渐变类型",style:{flex:1},value:l,options:I,prefix:"radial"===l?e.jsx(j,{}):e.jsx(A,{}),onChange:e=>a(e)}),"linear"===l?e.jsx(x,{tip:"渐变线方向角度",prefix:e.jsx(S,{}),prefixTip:"角度",style:{flex:1},type:"number",defaultUnitValue:"",defaultValue:c,onChange:e=>_(parseInt(e))}):e.jsx(v,{tip:"辐射形状",style:{flex:1},value:r,options:N,prefix:"ellipse"===r?e.jsx(R,{}):e.jsx(k,{}),onChange:e=>o(e)}),e.jsx(f.Item,{style:{width:30,padding:0},onClick:h,children:e.jsx(C,{})})]}),e.jsx("div",{className:w.stops,children:(null==u?void 0:u.length)>0&&u.map((t=>{const{color:n,position:i,id:l}=t;return n?e.jsxs("div",{style:{padding:"3px 0",display:"flex",alignItems:"center"},children:[e.jsx(f.Item,{style:{flex:1},children:e.jsx(d,{value:n,onChange:e=>{F("color",e,l),D(l)}})}),e.jsx(x,{tip:"停靠位置",style:{flex:1},type:"number",defaultUnitValue:"",defaultValue:i,onChange:e=>{let t=Number(e);t=t>100?100:t,F("position",t,l,!0),D(l)}},i),e.jsx(f.Item,{style:{width:30,padding:0},className:u.length<=2?w.disabled:"",onClick:()=>{u.length>2&&y(l)},children:e.jsx(b,{})})]},l):null}))})]})}const F=()=>{const[t,n]=React.useState("radial-gradient(circle, rgb(250,84,28) 0%, rgb(54,207,201) 25%, rgb(255,255,255) 50%, rgb(235,47,150) 75%)");return e.jsxs("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 100px"},children:[e.jsx("div",{style:{backgroundImage:t,height:800,width:"100%",marginRight:100}}),e.jsx(B,{defaultValue:t,onChange:e=>n(e)})]})},L=document.getElementById("root");if(L){ReactDOM.createRoot(L).render(e.jsx(React.StrictMode,{children:e.jsx(F,{})}))}
